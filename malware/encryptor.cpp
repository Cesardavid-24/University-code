//tratando de crear un escriptador de contenido de archivos por mi cuenta leyendo teoria.
#include <iostream>
#include <fstream>
#include <string>
#include <map>

using namespace std;

int main() {
    // 1. Leer el archivo que queremos cifrar
    string file_path = "archivo.txt";
    ifstream file_in(file_path);
    string content((istreambuf_iterator<char>(file_in)), (istreambuf_iterator<char>()));
    file_in.close();

    // 2. Definir una clave para el cifrado
    map<char, char> key = {
        {'a', 'z'},
        {'b', 'y'},
        {'c', 'x'},
        {'d', 'w'},
        {'e', 'v'},
        {'f', 'u'},
        {'g', 't'},
        {'h', 's'},
        {'i', 'r'},
        {'j', 'q'},
        {'k', 'p'},
        {'l', 'o'},
        {'m', 'n'},
        {'n', 'm'},
        {'o', 'l'},
        {'p', 'k'},
        {'q', 'j'},
        {'r', 'i'},
        {'s', 'h'},
        {'t', 'g'},
        {'u', 'f'},
        {'v', 'e'},
        {'w', 'd'},
        {'x', 'c'},
        {'y', 'b'},
        {'z', 'a'}
    };

    // 3. Recorrer cada letra del archivo y reemplazarla por la letra correspondiente en la clave
    string encrypted_content = "";
    for (char c : content) {
        if (key.find(c) != key.end()) {
            encrypted_content += key[c];
        } else {
            encrypted_content += c;
        }
    }

    // 4. Guardar el archivo cifrado
    string encrypted_file_path = "archivo_cifrado.txt";
    ofstream file_out(encrypted_file_path);
    file_out << encrypted_content;
    file_out.close();

    cout << "El archivo ha sido cifrado exitosamente y se ha guardado en " << encrypted_file_path << endl;

    return 0;
}
